<template>
  <style>
      .row-pointer {
        cursor: pointer;
      }

      .name-pointer {
        cursor: pointer
      }

      .value-pointer {
        cursor: pointer
      }
  </style>

  <require from="../loading-indicator.html"></require>
  <loading-indicator if.bind="loadingIndicator.loading"> </loading-indicator>

  <div class="mdc-elevation--z1 mdc-elevation-transition">
    <div class="crypto-widget crypto-widget--fullheight ">
      <div class="view-layout" style="height: auto; width: auto;">
        <div class="view-layout__content" style="height: auto; width: auto; overflow: hidden;">
          <div
            class="crypto-widget__heading crypto-widget__heading--fullwidth mdc-typography--headline5 mdc-theme--primary" style='margin-bottom: 0px'>
            <span if.bind="isRisk" class="crypto-widget__heading-text mdc-typography--subtitle1"><font size="+2">Risk  </font>${model.name}</span>
            <span if.bind="!isRisk" class="crypto-widget__heading-text mdc-typography--subtitle1"><font size="+2">Explore  </font>${model.name}</span>

            <div>
              <!-- <button if.bind="!namesOnTop"
                      class="mdc-icon-button material-icons"
                      data-mdc-ripple-is-unbounded="true"
                      click.delegate="changeNamesAlign()">
                vertical_align_top
              </button>

              <button if.bind="namesOnTop"
                      class="mdc-icon-button material-icons"
                      data-mdc-ripple-is-unbounded="true"
                      click.delegate="changeNamesAlign()">
                vertical_align_bottom
              </button> -->

              <button class="mdc-icon-button material-icons" data-mdc-ripple-is-unbounded="true" disabled.bind="isBusy" click.delegate="download()">
                cloud_download
              </button>

              <button if.bind="rightSideDrawerOpened"
                      click.delegate="openRightSideDrawer()"
                      class="mdc-icon-button material-icons"
                      data-mdc-ripple-is-unbounded="true">
                close
              </button>

              <button if.bind="!rightSideDrawerOpened"
                      click.delegate="openRightSideDrawer()"
                      class="mdc-icon-button material-icons"
                      data-mdc-ripple-is-unbounded="true">
                more_horiz
              </button>
            </div>
          </div>
          <div style="display: flex; position: relative">

            <div style="height: calc(100vh - 172px); width: 98%; display: flex;">
              <div style="height: 100%; width: 100%; position: absolute;">
                <div style="height: 100%; display: flex;">
                  <div id="resizeDiv" style="height: 98%; width: 98%; margin-right: ${rightSideDrawerOpened ? '260px' : '8px'};">
                  </div>
                </div>
              </div>
            </div>

            <div id="site" style=" position: absolute"></div>

            <!-- <div style="height: calc(100vh - 220px); width: 100%; position: relative; background: green"></div> -->

            <div class="sidebar">
              <div class="sidebar__wrapper">
                <header>
                  <div style="display: flex;">
                    <h5 class="mdc-typography--subtitle1"
                      style="justify-content: flex-start; margin-top: 12px; margin-bottom: 24px; margin-left: 24px;">
                      FILTERS
                    </h5>
                  </div>
                </header>
                <main style="margin-left: 12px; margin-right: 12px">
                  <mdc-select-enhanced data.bind="reservoirFilterItems" label="Reservoir" key="id" value="name"
                    selected.bind="reservoirSelected"></mdc-select-enhanced>
                  <mdc-select-enhanced data.bind="measureFilterItems" label="Measure" key="id" value="name"
                    selected.bind="measureSelected"></mdc-select-enhanced>
                  <mdc-select-enhanced style="display: ${isIntensity?'none':'block'}" data.bind="timeResolutionFilterItems" label="Time Resolution" key="id"
                    value="name" selected.bind="timeResolutionSelected"></mdc-select-enhanced>
                  <mdc-select-enhanced style="display: ${isIntensity?'block':'none'}" data.bind="timeResolutionFilterItemsPlus" label="Time Resolution" key="id"
                    value="name" selected.bind="timeResolutionSelected"></mdc-select-enhanced>

                  <calendar value.bind="date"></calendar>

                  <mdc-select-enhanced data.bind="rowSortItems" label="Row Order" key="id" value="name"
                    selected.bind="rowOrderSelected"></mdc-select-enhanced>

                  <mdc-select-enhanced data.bind="columnSortItems" label="Column Order" key="id" value="name"
                    selected.bind="columnOrderSelected"></mdc-select-enhanced>
                </main>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <up-down-button></up-down-button>
</template>
